<!-- <label
    class="mx-auto mt-32 my-20 relative bg-white min-w-sm max-w-2xl flex flex-col md:flex-row items-center justify-center border py-2 px-2 rounded-2xl gap-2 shadow-2xl focus-within:border-gray-300"
    for="search-bar">
    <input id="search-bar" [(ngModel)]="keyword" placeholder="Enter your keyword here" class="px-6 py-2 w-full rounded-md flex-1 outline-none bg-white">
    <button class="w-full md:w-auto px-6 py-3 bg-black border-black text-white fill-white active:scale-95 duration-100 border will-change-transform overflow-hidden relative rounded-xl transition-all disabled:opacity-70">
        <div class="relative">
            <div (click)="onSearch()" class="flex items-center transition-all opacity-1 valid:"><span
                    class="text-sm font-semibold whitespace-nowrap truncate mx-auto">
                    Search
                </span>
            </div>
        </div>
    </button>
</label>

<section id="Projects" class="w-fit mx-auto grid grid-cols-1 lg:grid-cols-3 md:grid-cols-2 justify-items-center justify-center gap-y-20 gap-x-14 mt-10 mb-5">
  <div *ngFor="let product of products" class="w-64 bg-white shadow-md rounded-xl duration-500 hover:scale-105 hover:shadow-xl">
    <a href="#">
      <img [src]="getImageUrl(product.images)" alt="{{product.name}}" class="h-64 w-64 object-cover rounded-t-xl">
      <div class="px-4 py-3">
    
        <span *ngIf="product.brand" class="text-gray-400 mr-3 uppercase text-xs">{{product.brand}}</span>
        <p class="text-lg font-bold text-black truncate block capitalize">{{product.name}}</p>
        <div class="flex items-center">
          <p class="text-lg font-semibold text-black cursor-auto my-3">₹{{product.subscriptions[0]?.monthlyPrice ?? 'N/A'}}</p>
          
          <del *ngIf="product.discountPrice"><p class="text-sm text-gray-600 cursor-auto ml-2">₹{{product.discountPrice}}</p></del>
        </div>
      </div>
    </a>

  <div class="flex justify-around pb-4">
    <button *ngIf="!addedToWishlist[product._id]" (click)="addToWishlist(product._id)" class="px-4 py-2 text-white bg-blue-500 rounded-lg shadow hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50">
      Add to Wishlist
    </button>
    <button *ngIf="addedToWishlist[product._id]" (click)="removeFromWishlist(product._id)" class="px-4 py-2 text-white bg-gray-500 rounded-lg shadow">
      Added
    </button>
    <button (click)="viewProduct(product._id)" class="px-4 py-2 text-white bg-green-500 rounded-lg shadow hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-opacity-50">
      Buy Now
    </button>
  </div>

  </div>
</section>
   -->



<!-- 
   <label class="mx-auto mt-32 my-20 relative bg-white min-w-sm max-w-2xl flex flex-col md:flex-row items-center justify-center border py-2 px-2 rounded-2xl gap-2 shadow-2xl focus-within:border-gray-300" for="search-bar">
  <input id="search-bar" [(ngModel)]="keyword" placeholder="Enter your keyword here" class="px-6 py-2 w-full rounded-md flex-1 outline-none bg-white">
  <button class="w-full md:w-auto px-6 py-3 bg-black border-black text-white fill-white active:scale-95 duration-100 border will-change-transform overflow-hidden relative rounded-xl transition-all disabled:opacity-70">
    <div class="relative">
      <div (click)="onSearch()" class="flex items-center transition-all opacity-1 valid:"><span class="text-sm font-semibold whitespace-nowrap truncate mx-auto">Search</span></div>
    </div>
  </button>
</label>

<section id="Projects" class="w-fit mx-auto grid grid-cols-1 lg:grid-cols-4 md:grid-cols-3 justify-items-center justify-center gap-y-20 gap-x-14 mt-10 mb-5">
  <div *ngFor="let product of products" class="w-64 bg-white shadow-lg rounded-lg overflow-hidden transform transition duration-500 hover:scale-105">
    <a href="#">
      <img [src]="getImageUrl(product.images)" alt="{{product.name}}" class="h-64 w-full object-cover">
      <div class="px-5 py-4">
        <div class="flex justify-between items-center">
          <span class="text-xs font-medium bg-blue-100 text-blue-800 rounded-full px-2 py-1">{{product.brand}}</span>
          <span class="bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-0.5 rounded">New</span>
        </div>
        <p class="text-lg font-semibold text-gray-800 mt-2 mb-4 truncate">{{product.name}}</p>
        <div class="flex justify-between items-center">
          <p class="text-lg font-bold text-black">₹{{product.subscriptions[0]?.monthlyPrice ?? 'N/A'}}</p>
          <del *ngIf="product.discountPrice" class="text-sm text-gray-500">₹{{product.discountPrice}}</del>
        </div>
      </div>
    </a>
    <div class="flex justify-around pb-4 px-5">
      <button *ngIf="!addedToWishlist[product._id]" (click)="addToWishlist(product._id)" class="text-sm px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700 transition-colors">Add to Wishlist</button>
      <button *ngIf="addedToWishlist[product._id]" (click)="removeFromWishlist(product._id)" class="text-sm px-4 py-2 text-white bg-gray-600 rounded">Added</button>
      <button (click)="viewProduct(product._id)" class="text-sm px-4 py-2 text-white bg-green-600 rounded hover:bg-green-700 transition-colors">Buy Now</button>
    </div>
  </div>
</section> -->

<style>
  .gradient{
    background: rgb(232,240,246);
  } 
</style>
<body class="gradient pb-10">
  <app-carousel></app-carousel>
<label class="mx-auto mt-20 my-20 relative bg-white min-w-sm max-w-2xl flex flex-col md:flex-row items-center justify-center border py-2 px-2 rounded-2xl gap-2 shadow-2xl focus-within:border-gray-300" for="search-bar">
  <input id="search-bar" (keyup)="search(searchBar.value)" #searchBar placeholder="Enter your keyword here" class="px-6 py-2 w-full rounded-md flex-1 outline-none bg-white">
  <button class="w-full md:w-auto px-6 py-3 bg-black border-black text-white fill-white active:scale-95 duration-100 border will-change-transform overflow-hidden relative rounded-xl transition-all disabled:opacity-70">
    <div class="relative">
      <div (click)="onSearch()" class="flex items-center transition-all opacity-1 valid:"><span class="text-sm font-semibold whitespace-nowrap truncate mx-auto">Search</span></div>
    </div>
  </button>
</label>

<div class="flex w-full justify-center items-center flex-wrap gap-6 md:gap-12">
  <ng-container *ngIf="categories.length > 0; else noCategories">
    <div *ngFor="let category of categories" class="inline-block">
      <button (click)="filterByCategory(category.name)">
        <div class="grid min-h-[140px] w-full place-items-center rounded-lg p-6 lg:overflow-visible">
          <img [src]="getCategoryImageUrl(category.image)" alt="{{category.name}}" class="object-cover object-center shadow-xl shadow-blue-gray-900/50 rounded-full h-24 w-24">
          <div class="block mt-4 font-sans text-sm antialiased font-medium tracking-wider leading-normal text-center text-inherit">
            {{ category.name }}
          </div>
        </div>
    </button>
    </div>
  </ng-container>
  <ng-template #noCategories>
    <div>No categories found.</div>
  </ng-template>
</div>

<!-- <section id="Projects" class="w-fit mx-auto grid grid-cols-1 lg:grid-cols-4 md:grid-cols-3 justify-items-center justify-center gap-y-16 gap-x-10 mt-10 mb-5">
  <div *ngFor="let product of products" class="w-60 bg-white shadow-lg rounded-lg overflow-hidden transform transition duration-500 hover:scale-105 cursor-pointer">
    <div (click)="viewProduct(product._id)"> 
      <img [src]="getImageUrl(product.images)" alt="{{product.name}}" class="h-60 w-full object-cover">
      <div class="px-4 py-3">
        <div class="flex justify-between items-center">
          <span class="text-xs font-medium bg-blue-100 text-blue-800 rounded-full px-2 py-1">{{product.brand}}</span>
          <span class="bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-0.5 rounded">New</span>
        </div>
        <p class="text-lg font-semibold text-gray-800 mt-2 mb-4 truncate">{{product.name}}</p>
        <div class="flex justify-between items-center">
          <p class="text-lg font-bold text-black"> ₹{{product.subscriptions[0]?.monthlyPrice ?? 'N/A'}}/month</p>
          <del *ngIf="product.discountPrice" class="text-sm text-gray-500">{{product.discountPrice}}</del>
        </div>
      </div>
    </div>
    <div class="flex justify-around pb-3 px-4" (click)="$event.stopPropagation()"> 
      <button *ngIf="!addedToWishlist[product._id]" (click)="addToWishlist(product._id)" class="text-sm px-3 py-2 text-white bg-blue-600 rounded hover:bg-blue-700 transition-colors">Add to Wishlist
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4">
        <path fill-rule="evenodd" d="M7.5 6v.75H5.513c-.96 0-1.764.724-1.865 1.679l-1.263 12A1.875 1.875 0 0 0 4.25 22.5h15.5a1.875 1.875 0 0 0 1.865-2.071l-1.263-12a1.875 1.875 0 0 0-1.865-1.679H16.5V6a4.5 4.5 0 1 0-9 0ZM12 3a3 3 0 0 0-3 3v.75h6V6a3 3 0 0 0-3-3Zm-3 8.25a3 3 0 1 0 6 0v-.75a.75.75 0 0 1 1.5 0v.75a4.5 4.5 0 1 1-9 0v-.75a.75.75 0 0 1 1.5 0v.75Z" clip-rule="evenodd" />
      </svg>
      
      </button>
      <button *ngIf="addedToWishlist[product._id]" (click)="removeFromWishlist(product._id)" class="text-sm px-3 py-2 text-white bg-gray-600 rounded">Added</button>
      <button (click)="viewProduct(product._id)" class="text-sm px-3 py-2 text-white bg-green-600 rounded hover:bg-green-700 transition-colors">Buy Now<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4">
        <path d="M2.25 2.25a.75.75 0 0 0 0 1.5h1.386c.17 0 .318.114.362.278l2.558 9.592a3.752 3.752 0 0 0-2.806 3.63c0 .414.336.75.75.75h15.75a.75.75 0 0 0 0-1.5H5.378A2.25 2.25 0 0 1 7.5 15h11.218a.75.75 0 0 0 .674-.421 60.358 60.358 0 0 0 2.96-7.228.75.75 0 0 0-.525-.965A60.864 60.864 0 0 0 5.68 4.509l-.232-.867A1.875 1.875 0 0 0 3.636 2.25H2.25ZM3.75 20.25a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 20.25a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z" />
      </svg>
      
      </button>
    </div>
  </div>
</section> -->

<!-- <section id="Projects" class="w-auto mx-16 sm:mx-8 md:mx-8 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 justify-items-center gap-8 mt-12">
  <div *ngFor="let product of products" class="flex w-full max-w-xs flex-col overflow-hidden rounded-lg border border-gray-100 bg-white shadow-md cursor-pointer transform transition duration-500 hover:scale-105">
    <div (click)="viewProduct(product._id)"> 
      <div class="relative m-4 flex h-60 overflow-hidden rounded-xl">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="absolute right-0 top-0 w-6 h-6 m-3 z-10">
            <path d="m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z" />
          </svg>    
                
          <img [src]="getImageUrl(product.images)" alt="{{product.name}}" class="w-full object-cover"/>
          <span class="absolute top-0 left-0 m-2 rounded-full bg-black px-3 py-1 text-xs font-medium text-white">39% OFF</span>
      </div>
      <div class="mt-2 px-5 pb-5">
        <h5 class="text-md font-semibold tracking-tight text-slate-800">{{product.name}}</h5> 
        <div class="mt-3 mb-4 flex items-center justify-between">
          <p class="text-md font-bold text-slate-900">₹{{product.subscriptions[0]?.monthlyPrice ?? 'N/A'}}/month</p>
          <div class="flex items-center">
            <svg aria-hidden="true" class="h-5 w-5 text-yellow-300" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg aria-hidden="true" class="h-5 w-5 text-yellow-300" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg aria-hidden="true" class="h-5 w-5 text-yellow-300" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg aria-hidden="true" class="h-5 w-5 text-yellow-300" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg aria-hidden="true" class="h-5 w-5 text-yellow-300" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <span class="ml-2 rounded bg-yellow-200 px-2.5 py-0.5 text-xs font-semibold">5.0</span>
          </div>
        </div>
      </div>
    </div>
    <div class="flex justify-around pb-3 px-4" (click)="$event.stopPropagation()"> 
      <button *ngIf="!addedToWishlist[product._id]" (click)="addToWishlist(product._id)" class="w-full flex items-center justify-center rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-blue-300">
        <svg xmlns="http://www.w3.org/2000/svg" class="mr-2 h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
        </svg>
        Add to Wishlist
      </button>
      <button *ngIf="addedToWishlist[product._id]" (click)="removeFromWishlist(product._id)" class="w-full flex items-center justify-center rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-blue-300">
        <svg xmlns="http://www.w3.org/2000/svg" class="mr-2 h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
        </svg>
        Added
      </button>
    </div> 
  </div>
</section> -->


<section id="Projects" class="w-auto mx-16 sm:mx-8 md:mx-8 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 justify-items-center gap-8 mt-12">
  <ng-container *ngIf="products.length > 0; else noProductsState">
  <div *ngFor="let product of products" class="flex w-full max-w-xs flex-col overflow-hidden rounded-lg border border-gray-100 bg-white shadow-md cursor-pointer transform transition duration-500 hover:scale-105">
    <div (click)="viewProduct(product._id)">
      <div class="relative m-4 flex h-60 overflow-hidden rounded-xl">
        <!-- Conditional SVG icon for wishlist status -->
        <svg class="absolute right-0 top-0 w-10 mt-3 h-10 z-0" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="12" fill="#FECACA"/>
        </svg>
        <ng-container *ngIf="addedToWishlist[product._id]; else notInWishlist">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="red" class="absolute right-0 top-0 w-6 h-6 mt-3 mr-4 z-10 cursor-pointer" (click)="toggleWishlist(product._id, $event)">
            <path d="m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z" />
          </svg>
        </ng-container>
        <ng-template #notInWishlist>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="red" class="absolute right-0 top-0 w-6 h-6 mt-3 mr-4 z-10 cursor-pointer" (click)="toggleWishlist(product._id, $event)">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
          </svg>
        </ng-template>
        <img [src]="getImageUrl(product.images)" alt="{{product.name}}" class="w-full object-cover"/>
        <span *ngIf="product.discount > 0" class="absolute top-0 left-0 m-2 rounded-full bg-black px-3 py-1 text-xs font-medium text-white">{{product.discount}}% OFF</span>
      </div>
      <div class="mt-2 px-5 pb-5">
        <h5 class="text-md font-semibold tracking-tight text-slate-800">{{product.name}}</h5>
        <div class="mt-3 mb-4 flex items-center justify-between">
          <p class="text-md font-bold text-slate-900">₹{{product.subscriptions[0]?.monthlyPrice ?? 'N/A'}}/month</p>
          <div class="flex items-center">
            <!-- <svg aria-hidden="true" class="h-5 w-5 text-yellow-300" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg aria-hidden="true" class="h-5 w-5 text-yellow-300" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg aria-hidden="true" class="h-5 w-5 text-yellow-300" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg aria-hidden="true" class="h-5 w-5 text-yellow-300" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg aria-hidden="true" class="h-5 w-5 text-yellow-300" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <span class="ml-2 rounded bg-yellow-200 px-2.5 py-0.5 text-xs font-semibold">5.0</span> -->

            <ng-container *ngFor="let star of [].constructor(5); let i = index">
              <ng-container *ngIf="product.ratings >= i + 1; else halfOrEmptyStar">
                <!-- Full Star -->
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-500" viewBox="0 0 20 20" fill="currentColor">
                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                </svg>
              </ng-container>
              <ng-template #halfOrEmptyStar>
                <ng-container *ngIf="product.ratings > i; else emptyStar">
                  <!-- Half Star -->
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-500" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M12 0.25l2.165 4.383L19 5.867l-3.5 3.416.825 4.817-4.325-2.271-4.325 2.271.825-4.817L1 5.867l4.835-1.234L8 0.25m0-0.25c-.28 0-.557.071-.8.212l-4.2 2.2L.752 1.08a1.457 1.457 0 00-1.752.754L0 1.915l2.5 14.502c.123.71.73 1.216 1.45 1.216.28 0 .557-.071.8-.212l12.5-6.558a1.457 1.457 0 000-2.67L12 .212A1.51 1.51 0 0012 0z" />
                  </svg>
                </ng-container>
                <ng-template #emptyStar>
                  <!-- Empty Star -->
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-300" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                  </svg>
                </ng-template>
              </ng-template>
            </ng-container>
            <span class="ml-2 rounded bg-yellow-200 px-2.5 py-0.5 text-xs font-semibold">{{product.ratings.toFixed(1)}}</span>
          </div>
        </div>
      </div>
    </div>
    <!-- Keep the Wishlist button for now, as per your instruction -->
    <div class="flex justify-around pb-3 px-4" (click)="$event.stopPropagation()">
      <button class="w-full flex items-center justify-center rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-blue-300" (click)="viewProduct(product._id)">
        <svg xmlns="http://www.w3.org/2000/svg" class="mr-2 h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
        </svg>
        Buy Now
      </button>
    </div>
  </div>
</ng-container>
<ng-template #noProductsState>
  <div class="flex flex-col w-full items-center justify-center h-full mt-12">
    <img src="assets/empty-cart.png" height="200px" width="200px" class="mx-auto" alt="Empty Cart">
    <h1 class="text-2xl font-bold mb-10 text-center text-gray-900">No Products Found</h1>
  </div>
</ng-template>
</section>


<nav class="flex justify-center items-center gap-4 mb-20 mt-16">
  <button *ngIf="currentPage > 1" (click)="changePage(currentPage - 1)" 
    class="flex items-center gap-2 px-6 py-3 font-sans text-xs font-bold text-center text-gray-900 uppercase align-middle transition-all rounded-lg select-none hover:bg-gray-900/10 active:bg-gray-900/20 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="w-4 h-4">
      <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"></path>
    </svg>
    Previous
  </button>
  
  <div class="flex items-center gap-2">
    <button *ngFor="let number of paginationNumbers; let i = index" (click)="changePage(i + 1)"
      [ngClass]="{'bg-gray-900 text-white': i + 1 === currentPage, 'text-gray-900 hover:bg-gray-900/10': i + 1 !== currentPage}"
      class="relative h-10 max-h-[40px] w-10 max-w-[40px] select-none rounded-lg text-center align-middle font-sans text-xs font-medium uppercase transition-all active:bg-gray-900/20 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
      type="button">
      <span class="absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2">{{ i + 1 }}</span>
    </button>
  </div>

  <button *ngIf="currentPage < totalPages" (click)="changePage(currentPage + 1)" 
    class="flex items-center gap-2 px-6 py-3 font-sans text-xs font-bold text-center text-gray-900 uppercase align-middle transition-all rounded-lg select-none hover:bg-gray-900/10 active:bg-gray-900/20 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none">
    Next
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="w-4 h-4">
      <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"></path>
    </svg>
  </button>
</nav>
</body>